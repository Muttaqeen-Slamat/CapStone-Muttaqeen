"use strict";(self["webpackChunkcapstone_muttaqeen_frontend"]=self["webpackChunkcapstone_muttaqeen_frontend"]||[]).push([[155],{7155:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var l=s(641),r=s(33),a=s(3751);const i={class:"container"},n={class:"row"},u={key:0,class:"col"},d={key:0},o=(0,l.Lk)("label",null,"First Name:",-1),c=(0,l.Lk)("label",null,"Last Name:",-1),p=(0,l.Lk)("label",null,"Email:",-1),k=(0,l.Lk)("label",null,"Gender:",-1),m=(0,l.Lk)("label",null,"Age:",-1),U=(0,l.Lk)("button",{type:"submit",class:"save"},"Save",-1),h={class:"d-flex justify-content-between"};function L(e,t,s,L,f,g){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",i,[(0,l.Lk)("div",n,[f.user?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("h2",null,(0,r.v_)(f.user.firstName)+" "+(0,r.v_)(f.user.lastName),1),(0,l.Lk)("p",null,"Username: "+(0,r.v_)(f.user.userName),1),(0,l.Lk)("p",null,"First Name: "+(0,r.v_)(f.user.firstName),1),(0,l.Lk)("p",null,"Last Name: "+(0,r.v_)(f.user.lastName),1),(0,l.Lk)("p",null,"Email: "+(0,r.v_)(f.user.email),1),(0,l.Lk)("p",null,"Gender: "+(0,r.v_)(f.user.gender),1),(0,l.Lk)("p",null,"Age: "+(0,r.v_)(f.user.age),1),f.editing?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>g.updateUser&&g.updateUser(...e)),["prevent"])),class:"d-flex flex-column"},[o,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.editedUser.firstName=e)},null,512),[[a.Jo,f.editedUser.firstName]]),c,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>f.editedUser.lastName=e)},null,512),[[a.Jo,f.editedUser.lastName]]),p,(0,l.bo)((0,l.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>f.editedUser.email=e)},null,512),[[a.Jo,f.editedUser.email]]),k,(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>f.editedUser.gender=e)},null,512),[[a.Jo,f.editedUser.gender]]),m,(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>f.editedUser.age=e)},null,512),[[a.Jo,f.editedUser.age]]),U,(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>g.cancelEdit&&g.cancelEdit(...e)),class:"cancel"},"Cancel")],32)])):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>g.editProfile&&g.editProfile(...e)),class:"editButton"},"Edit")]),(0,l.Lk)("div",h,[(0,l.Lk)("button",{onClick:t[8]||(t[8]=e=>g.deleteUser(f.user.userID)),class:"deleteButton"},"Delete Account"),(0,l.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>g.logoutUser&&g.logoutUser(...e)),class:"logoutButton"},"Logout")])])):(0,l.Q3)("",!0)])])])}s(4114);var f={data(){return{user:null,editing:!1,editedUser:{}}},mounted(){this.fetchUserData()},methods:{editProfile(){this.editedUser={...this.user},this.editing=!0},cancelEdit(){this.editing=!1,this.editedUser={}},async updateUser(){try{await this.$store.dispatch("updateUser",{id:this.user.userID,data:this.editedUser}),await this.fetchUserData(),this.editing=!1,this.editedUser={}}catch(e){console.error("Error updating user:",e)}},fetchUserData(){const e=document.cookie.split(";").map((e=>e.trim())),t=e.find((e=>e.startsWith("userAuthenticated=")));if(t)try{const e=JSON.parse(t.split("=")[1]);e&&e.result?this.user=e.result:console.error("Invalid user data format:",e)}catch(s){console.error("Error parsing user data:",s)}else console.log("No user data available in cookies")},deleteUser(e){this.$store.dispatch("deleteUser",{id:e}),this.$router.push("/login")},logoutUser(){this.$store.dispatch("logout")}}},g=s(6262);const v=(0,g.A)(f,[["render",L]]);var b=v}}]);
//# sourceMappingURL=155.9dcea7c7.js.map